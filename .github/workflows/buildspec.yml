# name: VPC module build, test and deploy pipeline.
# on:
#   push:
#     branches:
#       - main

# permissions:
#   contents: read

# jobs:
#   terraform:
#     runs-on: ubuntu-latest
#     name: Terraform
#     steps:
#       - name: Build the Docker image
#         uses: actions/checkout@v3

#       - name: Setup Terraform
#         uses: hashicorp/setup-terraform@v2
#         with:
#           terraform_version: 1.1.9
#           terraform_wrapper: false

#       - name: Terraform Init
#         id: init
#         run: terraform init
#         # env:
#         #   ARM_CLIENT_ID: ${{ secrets.CLIENT_ID }} # This doesn't have to be a secret. Client IDs are not sensitive.
#         #   ARM_CLIENT_SECRET: ${{ secrets.CLIENT_SECRET }}
#         #   ARM_SUBSCRIPTION_ID: "[Your Subscription ID]"
#         #   ARM_TENANT_ID: "[Your Tenant ID]"
#         # working-directory: ./staging # Use your environment folder
#         shell: bash

name: learn-github-actions
run-name: ${{ github.actor }} is learning GitHub Actions
on: [push]
jobs:
  check-bats-version:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "14"

      - name: Install bats
        environment: dev
        run: |
          npm install -g bats
          echo ${{ secrets.MY_SECRET }}

      - name: Run bats
        run: bats -v
